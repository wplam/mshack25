"{\n  \"kind\": \"Deployment\",\n  \"apiVersion\": \"apps/v1\",\n  \"metadata\": {\n    \"name\": \"coredns-autoscaler\",\n    \"namespace\": \"kube-system\",\n    \"uid\": \"ee3584d4-f579-453e-9bbe-22fd63214aaf\",\n    \"resourceVersion\": \"1014425\",\n    \"generation\": 1,\n    \"creationTimestamp\": \"2025-09-12T20:43:21Z\",\n    \"labels\": {\n      \"addonmanager.kubernetes.io/mode\": \"Reconcile\",\n      \"k8s-app\": \"coredns-autoscaler\",\n      \"kubernetes.azure.com/managedby\": \"aks\",\n      \"kubernetes.io/cluster-service\": \"true\"\n    },\n    \"annotations\": {\n      \"deployment.kubernetes.io/revision\": \"1\",\n      \"kubectl.kubernetes.io/last-applied-configuration\": \"{\\\"apiVersion\\\":\\\"apps/v1\\\",\\\"kind\\\":\\\"Deployment\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"addonmanager.kubernetes.io/mode\\\":\\\"Reconcile\\\",\\\"k8s-app\\\":\\\"coredns-autoscaler\\\",\\\"kubernetes.azure.com/managedby\\\":\\\"aks\\\",\\\"kubernetes.io/cluster-service\\\":\\\"true\\\"},\\\"name\\\":\\\"coredns-autoscaler\\\",\\\"namespace\\\":\\\"kube-system\\\"},\\\"spec\\\":{\\\"paused\\\":false,\\\"revisionHistoryLimit\\\":2,\\\"selector\\\":{\\\"matchLabels\\\":{\\\"k8s-app\\\":\\\"coredns-autoscaler\\\"}},\\\"template\\\":{\\\"metadata\\\":{\\\"annotations\\\":{\\\"cluster-autoscaler.kubernetes.io/safe-to-evict\\\":\\\"true\\\",\\\"seccomp.security.alpha.kubernetes.io/pod\\\":\\\"runtime/default\\\"},\\\"labels\\\":{\\\"k8s-app\\\":\\\"coredns-autoscaler\\\",\\\"kubernetes.azure.com/managedby\\\":\\\"aks\\\"}},\\\"spec\\\":{\\\"affinity\\\":{\\\"nodeAffinity\\\":{\\\"preferredDuringSchedulingIgnoredDuringExecution\\\":[{\\\"preference\\\":{\\\"matchExpressions\\\":[{\\\"key\\\":\\\"kubernetes.azure.com/mode\\\",\\\"operator\\\":\\\"In\\\",\\\"values\\\":[\\\"system\\\"]}]},\\\"weight\\\":100}],\\\"requiredDuringSchedulingIgnoredDuringExecution\\\":{\\\"nodeSelectorTerms\\\":[{\\\"matchExpressions\\\":[{\\\"key\\\":\\\"kubernetes.azure.com/cluster\\\",\\\"operator\\\":\\\"Exists\\\"},{\\\"key\\\":\\\"type\\\",\\\"operator\\\":\\\"NotIn\\\",\\\"values\\\":[\\\"virtual-kubelet\\\"]},{\\\"key\\\":\\\"kubernetes.io/os\\\",\\\"operator\\\":\\\"In\\\",\\\"values\\\":[\\\"linux\\\"]}]}]}}},\\\"containers\\\":[{\\\"command\\\":[\\\"/cluster-proportional-autoscaler\\\",\\\"--namespace=kube-system\\\",\\\"--configmap=coredns-autoscaler\\\",\\\"--target=deployment/coredns\\\",\\\"--default-params={\\\\\\\"ladder\\\\\\\":{\\\\\\\"coresToReplicas\\\\\\\":[[1,2],[512,3],[1024,4],[2048,5]],\\\\\\\"nodesToReplicas\\\\\\\":[[1,2],[8,3],[16,4],[32,5]]}}\\\",\\\"--logtostderr=true\\\",\\\"--v=2\\\"],\\\"image\\\":\\\"mcr.microsoft.com/oss/v2/kubernetes/autoscaler/cluster-proportional-autoscaler:v1.9.0-2\\\",\\\"imagePullPolicy\\\":\\\"IfNotPresent\\\",\\\"livenessProbe\\\":{\\\"httpGet\\\":{\\\"path\\\":\\\"/last-poll\\\",\\\"port\\\":8080},\\\"initialDelaySeconds\\\":10,\\\"periodSeconds\\\":10},\\\"name\\\":\\\"autoscaler\\\",\\\"resources\\\":{\\\"limits\\\":{\\\"cpu\\\":\\\"200m\\\",\\\"memory\\\":\\\"500Mi\\\"},\\\"requests\\\":{\\\"cpu\\\":\\\"20m\\\",\\\"memory\\\":\\\"10Mi\\\"}},\\\"securityContext\\\":{\\\"capabilities\\\":{\\\"drop\\\":[\\\"ALL\\\"]}}}],\\\"dnsPolicy\\\":\\\"Default\\\",\\\"priorityClassName\\\":\\\"system-node-critical\\\",\\\"securityContext\\\":{\\\"seccompProfile\\\":{\\\"type\\\":\\\"RuntimeDefault\\\"}},\\\"serviceAccountName\\\":\\\"coredns-autoscaler\\\",\\\"tolerations\\\":[{\\\"key\\\":\\\"CriticalAddonsOnly\\\",\\\"operator\\\":\\\"Exists\\\"},{\\\"effect\\\":\\\"NoExecute\\\",\\\"key\\\":\\\"node.kubernetes.io/unreachable\\\",\\\"operator\\\":\\\"Exists\\\",\\\"tolerationSeconds\\\":30},{\\\"effect\\\":\\\"NoExecute\\\",\\\"key\\\":\\\"node.kubernetes.io/not-ready\\\",\\\"operator\\\":\\\"Exists\\\",\\\"tolerationSeconds\\\":30}]}}}}\\n\"\n    },\n    \"managedFields\": [\n      {\n        \"manager\": \"kubectl-client-side-apply\",\n        \"operation\": \"Update\",\n        \"apiVersion\": \"apps/v1\",\n        \"time\": \"2025-09-12T20:43:21Z\",\n        \"fieldsType\": \"FieldsV1\",\n        \"fieldsV1\": {\n          \"f:metadata\": {\n            \"f:annotations\": {\n              \".\": {},\n              \"f:kubectl.kubernetes.io/last-applied-configuration\": {}\n            },\n            \"f:labels\": {\n              \".\": {},\n              \"f:addonmanager.kubernetes.io/mode\": {},\n              \"f:k8s-app\": {},\n              \"f:kubernetes.azure.com/managedby\": {},\n              \"f:kubernetes.io/cluster-service\": {}\n            }\n          },\n          \"f:spec\": {\n            \"f:progressDeadlineSeconds\": {},\n            \"f:replicas\": {},\n            \"f:revisionHistoryLimit\": {},\n            \"f:selector\": {},\n            \"f:strategy\": {\n              \"f:rollingUpdate\": {\n                \".\": {},\n                \"f:maxSurge\": {},\n                \"f:maxUnavailable\": {}\n              },\n              \"f:type\": {}\n            },\n            \"f:template\": {\n              \"f:metadata\": {\n                \"f:annotations\": {\n                  \".\": {},\n                  \"f:cluster-autoscaler.kubernetes.io/safe-to-evict\": {},\n                  \"f:seccomp.security.alpha.kubernetes.io/pod\": {}\n                },\n                \"f:labels\": {\n                  \".\": {},\n                  \"f:k8s-app\": {},\n                  \"f:kubernetes.azure.com/managedby\": {}\n                }\n              },\n              \"f:spec\": {\n                \"f:affinity\": {\n                  \".\": {},\n                  \"f:nodeAffinity\": {\n                    \".\": {},\n                    \"f:preferredDuringSchedulingIgnoredDuringExecution\": {},\n                    \"f:requiredDuringSchedulingIgnoredDuringExecution\": {}\n                  }\n                },\n                \"f:containers\": {\n                  \"k:{\\\"name\\\":\\\"autoscaler\\\"}\": {\n                    \".\": {},\n                    \"f:command\": {},\n                    \"f:image\": {},\n                    \"f:imagePullPolicy\": {},\n                    \"f:livenessProbe\": {\n                      \".\": {},\n                      \"f:failureThreshold\": {},\n                      \"f:httpGet\": {\n                        \".\": {},\n                        \"f:path\": {},\n                        \"f:port\": {},\n                        \"f:scheme\": {}\n                      },\n                      \"f:initialDelaySeconds\": {},\n                      \"f:periodSeconds\": {},\n                      \"f:successThreshold\": {},\n                      \"f:timeoutSeconds\": {}\n                    },\n                    \"f:name\": {},\n                    \"f:resources\": {\n                      \".\": {},\n                      \"f:limits\": {\n                        \".\": {},\n                        \"f:cpu\": {},\n                        \"f:memory\": {}\n                      },\n                      \"f:requests\": {\n                        \".\": {},\n                        \"f:cpu\": {},\n                        \"f:memory\": {}\n                      }\n                    },\n                    \"f:securityContext\": {\n                      \".\": {},\n                      \"f:capabilities\": {\n                        \".\": {},\n                        \"f:drop\": {}\n                      }\n                    },\n                    \"f:terminationMessagePath\": {},\n                    \"f:terminationMessagePolicy\": {}\n                  }\n                },\n                \"f:dnsPolicy\": {},\n                \"f:priorityClassName\": {},\n                \"f:restartPolicy\": {},\n                \"f:schedulerName\": {},\n                \"f:securityContext\": {\n                  \".\": {},\n                  \"f:seccompProfile\": {\n                    \".\": {},\n                    \"f:type\": {}\n                  }\n                },\n                \"f:serviceAccount\": {},\n                \"f:serviceAccountName\": {},\n                \"f:terminationGracePeriodSeconds\": {},\n                \"f:tolerations\": {}\n              }\n            }\n          }\n        }\n      },\n      {\n        \"manager\": \"kube-controller-manager\",\n        \"operation\": \"Update\",\n        \"apiVersion\": \"apps/v1\",\n        \"time\": \"2025-09-18T17:09:48Z\",\n        \"fieldsType\": \"FieldsV1\",\n        \"fieldsV1\": {\n          \"f:metadata\": {\n            \"f:annotations\": {\n              \"f:deployment.kubernetes.io/revision\": {}\n            }\n          },\n          \"f:status\": {\n            \"f:availableReplicas\": {},\n            \"f:conditions\": {\n              \".\": {},\n              \"k:{\\\"type\\\":\\\"Available\\\"}\": {\n                \".\": {},\n                \"f:lastTransitionTime\": {},\n                \"f:lastUpdateTime\": {},\n                \"f:message\": {},\n                \"f:reason\": {},\n                \"f:status\": {},\n                \"f:type\": {}\n              },\n              \"k:{\\\"type\\\":\\\"Progressing\\\"}\": {\n                \".\": {},\n                \"f:lastTransitionTime\": {},\n                \"f:lastUpdateTime\": {},\n                \"f:message\": {},\n                \"f:reason\": {},\n                \"f:status\": {},\n                \"f:type\": {}\n              }\n            },\n            \"f:observedGeneration\": {},\n            \"f:readyReplicas\": {},\n            \"f:replicas\": {},\n            \"f:updatedReplicas\": {}\n          }\n        },\n        \"subresource\": \"status\"\n      }\n    ]\n  },\n  \"spec\": {\n    \"replicas\": 2,\n    \"selector\": {\n      \"matchLabels\": {\n        \"k8s-app\": \"coredns-autoscaler\"\n      }\n    },\n    \"template\": {\n      \"metadata\": {\n        \"creationTimestamp\": null,\n        \"labels\": {\n          \"k8s-app\": \"coredns-autoscaler\",\n          \"kubernetes.azure.com/managedby\": \"aks\"\n        },\n        \"annotations\": {\n          \"cluster-autoscaler.kubernetes.io/safe-to-evict\": \"true\",\n          \"seccomp.security.alpha.kubernetes.io/pod\": \"runtime/default\"\n        }\n      },\n      \"spec\": {\n        \"containers\": [\n          {\n            \"name\": \"autoscaler\",\n            \"image\": \"mcr.microsoft.com/oss/v2/kubernetes/autoscaler/cluster-proportional-autoscaler:v1.9.0-2\",\n            \"command\": [\n              \"/cluster-proportional-autoscaler\",\n              \"--namespace=kube-system\",\n              \"--configmap=coredns-autoscaler\",\n              \"--target=deployment/coredns\",\n              \"--default-params={\\\"ladder\\\":{\\\"coresToReplicas\\\":[[1,2],[512,3],[1024,4],[2048,5]],\\\"nodesToReplicas\\\":[[1,2],[8,3],[16,4],[32,5]]}}\",\n              \"--logtostderr=true\",\n              \"--v=2\"\n            ],\n            \"resources\": {\n              \"limits\": {\n                \"cpu\": \"200m\",\n                \"memory\": \"500Mi\"\n              },\n              \"requests\": {\n                \"cpu\": \"20m\",\n                \"memory\": \"10Mi\"\n              }\n            },\n            \"livenessProbe\": {\n              \"httpGet\": {\n                \"path\": \"/last-poll\",\n                \"port\": 8080,\n                \"scheme\": \"HTTP\"\n              },\n              \"initialDelaySeconds\": 10,\n              \"timeoutSeconds\": 1,\n              \"periodSeconds\": 10,\n              \"successThreshold\": 1,\n              \"failureThreshold\": 3\n            },\n            \"terminationMessagePath\": \"/dev/termination-log\",\n            \"terminationMessagePolicy\": \"File\",\n            \"imagePullPolicy\": \"IfNotPresent\",\n            \"securityContext\": {\n              \"capabilities\": {\n                \"drop\": [\n                  \"ALL\"\n                ]\n              }\n            }\n          }\n        ],\n        \"restartPolicy\": \"Always\",\n        \"terminationGracePeriodSeconds\": 30,\n        \"dnsPolicy\": \"Default\",\n        \"serviceAccountName\": \"coredns-autoscaler\",\n        \"serviceAccount\": \"coredns-autoscaler\",\n        \"securityContext\": {\n          \"seccompProfile\": {\n            \"type\": \"RuntimeDefault\"\n          }\n        },\n        \"affinity\": {\n          \"nodeAffinity\": {\n            \"requiredDuringSchedulingIgnoredDuringExecution\": {\n              \"nodeSelectorTerms\": [\n                {\n                  \"matchExpressions\": [\n                    {\n                      \"key\": \"kubernetes.azure.com/cluster\",\n                      \"operator\": \"Exists\"\n                    },\n                    {\n                      \"key\": \"type\",\n                      \"operator\": \"NotIn\",\n                      \"values\": [\n                        \"virtual-kubelet\"\n                      ]\n                    },\n                    {\n                      \"key\": \"kubernetes.io/os\",\n                      \"operator\": \"In\",\n                      \"values\": [\n                        \"linux\"\n                      ]\n                    }\n                  ]\n                }\n              ]\n            },\n            \"preferredDuringSchedulingIgnoredDuringExecution\": [\n              {\n                \"weight\": 100,\n                \"preference\": {\n                  \"matchExpressions\": [\n                    {\n                      \"key\": \"kubernetes.azure.com/mode\",\n                      \"operator\": \"In\",\n                      \"values\": [\n                        \"system\"\n                      ]\n                    }\n                  ]\n                }\n              }\n            ]\n          }\n        },\n        \"schedulerName\": \"default-scheduler\",\n        \"tolerations\": [\n          {\n            \"key\": \"CriticalAddonsOnly\",\n            \"operator\": \"Exists\"\n          },\n          {\n            \"key\": \"node.kubernetes.io/unreachable\",\n            \"operator\": \"Exists\",\n            \"effect\": \"NoExecute\",\n            \"tolerationSeconds\": 30\n          },\n          {\n            \"key\": \"node.kubernetes.io/not-ready\",\n            \"operator\": \"Exists\",\n            \"effect\": \"NoExecute\",\n            \"tolerationSeconds\": 30\n          }\n        ],\n        \"priorityClassName\": \"system-node-critical\"\n      }\n    },\n    \"strategy\": {\n      \"type\": \"RollingUpdate\",\n      \"rollingUpdate\": {\n        \"maxUnavailable\": \"25%\",\n        \"maxSurge\": \"25%\"\n      }\n    },\n    \"revisionHistoryLimit\": 2,\n    \"progressDeadlineSeconds\": 600\n  },\n  \"status\": {\n    \"observedGeneration\": 1,\n    \"replicas\": 1,\n    \"updatedReplicas\": 1,\n    \"readyReplicas\": 1,\n    \"availableReplicas\": 1,\n    \"conditions\": [\n      {\n        \"type\": \"Progressing\",\n        \"status\": \"True\",\n        \"lastUpdateTime\": \"2025-09-12T20:45:39Z\",\n        \"lastTransitionTime\": \"2025-09-12T20:43:21Z\",\n        \"reason\": \"NewReplicaSetAvailable\",\n        \"message\": \"ReplicaSet \\\"coredns-autoscaler-864c4496bf\\\" has successfully progressed.\"\n      },\n      {\n        \"type\": \"Available\",\n        \"status\": \"True\",\n        \"lastUpdateTime\": \"2025-09-18T17:09:48Z\",\n        \"lastTransitionTime\": \"2025-09-18T17:09:48Z\",\n        \"reason\": \"MinimumReplicasAvailable\",\n        \"message\": \"Deployment has minimum availability.\"\n      }\n    ]\n  }\n}"